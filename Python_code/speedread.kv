#:kivy 2.3.1

<SettingsScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10
        
        Button:
            text: "Exit"
            size_hint_x: 0.2
            size_hint_y: 0.05
            on_release: root.on_exit_button()
        TextInput:
            id: user_input
            hint_text: "Paste your text here..."
            size_hint_y: 0.4
            
        BoxLayout:
            size_hint_y: 0.1
            spacing: 10
            
            Label:
                text: "WPM:"
                size_hint_x: 0.2
            TextInput:
                id: wpm_input
                text: "260"  # Default visual value
                multiline: False
                input_filter: 'int'
                
        Button:
            text: "Start Reading"
            size_hint_y: 0.2
            on_release: root.on_start_button()
        Label:
            text: "Recent Texts:"
            size_hint_y: 0.05
            halign: 'left'
            text_size: self.size

        ScrollView:
            size_hint_y: 0.25
            bar_width: 10
            
            BoxLayout:
                id: history_container
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
<ReaderScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: root.display_text
            font_size: '45sp'
            halign: 'center'
        
        BoxLayout:
            orientation: 'horizontal'
            padding: 20
            spacing: 10
            Button:
                text: "Pause"
                size_hint_y: 0.2
                on_release: root.on_pause_button()
            Button:
                text: "Stop / Back"
                size_hint_y: 0.2
                on_release: 
                    root.on_stop_button()
                    app.root.current = 'settings'
        BoxLayout:
            orientation: 'horizontal'
            padding: 20
            Slider:
                id: speed_slider
                min: 50
                max: 1000
                value: 260
                size_hint_y: 0.1
                size_hint_x: 0.7
                on_value: root.on_speed_change(self.value)
            Label:
                text: "WPM: " + str(int(speed_slider.value))
                #size_hint_x: 0.3 Give it a bit of specific width
                size_hint_y: 0.1

        